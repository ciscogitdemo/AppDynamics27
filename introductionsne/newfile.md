<p>You can monitor performance around asynchronous calls and multithreaded activity in a variety of ways.&nbsp;It's helpful to understand what AppDynamics considers to be an asynchronous activity, what information it provides on that activity, and how that information relates to thread execution at the code level.&nbsp;</p><p>These sections describe the type of information available given various thread and exit call execution scenarios.&nbsp;</p><h3>Asynchronous Exit Call</h3><div class="se-component se-image-container __se__float- __se__float-none"><figure><a href="https://docs.appdynamics.com/appd/23.x/latest/en/application-monitoring/install-app-server-agents/java-agent/trace-multithreaded-transactions-for-java#id-.TraceMultithreadedTransactionsforJavav23.1-AsynchronousExitCall" data-image-link="image"><img src="https://docs.appdynamics.com/appd/23.x/_/0A7000B801817F6BA9C71F687215B50A/1692995281587/images/common/link-solid.svg" alt="Link to Asynchronous Exit Call" data-image-link="https://docs.appdynamics.com/appd/23.x/latest/en/application-monitoring/install-app-server-agents/java-agent/trace-multithreaded-transactions-for-java#id-.TraceMultithreadedTransactionsforJavav23.1-AsynchronousExitCall" data-proportion="true" data-align="none" data-file-name="link-solid.svg" data-file-size="0" data-origin=",auto" data-size="," data-rotate="" data-percentage="auto,auto" style="box-sizing: inherit; margin: 0px 0px 3px; padding: 0px; border: 0px; display: inline-block; vertical-align: middle;"></a></figure></div><p>In the most common case, an asynchronous exit call is an exit call made by a thread that is spawned by a thread other than the primary business transaction thread.</p><p>The primary thread, in this case, is the one on which an entry point call is received. A common pattern for this case is when the main() function in the application spawns multiple threads as request handlers to receive and process requests. For&nbsp;example:&nbsp;</p><p></p><p></p><figure style="box-sizing: inherit; margin: 1rem 0px calc(2rem); color: rgb(0, 12, 52); font-family: roboto-regular, Helvetica, Roboto, Arial, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(254, 254, 254); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><div class="se-component se-image-container __se__float-none"><figure style="box-sizing: inherit; margin: 1rem 0px calc(2rem); color: rgb(0, 12, 52); font-family: roboto-regular, Helvetica, Roboto, Arial, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(254, 254, 254); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><a href="https://docs.appdynamics.com/appd/23.x/files/latest/en/244596755/244596764/1/1672686378000/asyncexit.png"></a><a href="https://docs.appdynamics.com/appd/23.x/files/latest/en/244596755/244596764/1/1672686378000/asyncexit.png" data-image-link="image"><img alt="Asynchronous Exit Call" src="https://docs.appdynamics.com/appd/23.x/files/latest/en/244596755/244596764/1/1672686378000/asyncexit.png" data-image-link="https://docs.appdynamics.com/appd/23.x/files/latest/en/244596755/244596764/1/1672686378000/asyncexit.png" data-proportion="true" data-align="none" data-file-name="asyncexit.png" data-file-size="0" data-origin=",auto" data-size="," data-rotate="" data-percentage="auto,auto" style="box-sizing: inherit; margin: 0px; padding: 0px; border: 0px; display: inline-block; vertical-align: middle; border-radius: 3px; cursor: pointer !important;"></a></figure></div></figure><p></p><p></p><p>Flow maps in the Controller UI show this connection as a dotted line (asynchronous connection).</p><p>AppDynamics considers the call to be an asynchronous call only due to the context in which it was invoked. If the exit call is made from thread 2, as shown in the following illustration, the call may be considered asynchronous from the perspective of the overall design of the application, but is not considered asynchronous in the context of the business transaction:&nbsp;</p><p></p><p></p><figure style="box-sizing: inherit; margin: 1rem 0px calc(2rem); color: rgb(0, 12, 52); font-family: roboto-regular, Helvetica, Roboto, Arial, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(254, 254, 254); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><div class="se-component se-image-container __se__float-none"><figure style="box-sizing: inherit; margin: 1rem 0px calc(2rem); color: rgb(0, 12, 52); font-family: roboto-regular, Helvetica, Roboto, Arial, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(254, 254, 254); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><a href="https://docs.appdynamics.com/appd/23.x/files/latest/en/244596755/244596758/1/1672686377000/synctransaction.png"></a><a href="https://docs.appdynamics.com/appd/23.x/files/latest/en/244596755/244596758/1/1672686377000/synctransaction.png" data-image-link="image"><img alt="Asynchronous Call (Application)" src="https://docs.appdynamics.com/appd/23.x/files/latest/en/244596755/244596758/1/1672686377000/synctransaction.png" data-image-link="https://docs.appdynamics.com/appd/23.x/files/latest/en/244596755/244596758/1/1672686377000/synctransaction.png" data-proportion="true" data-align="none" data-file-name="synctransaction.png" data-file-size="0" data-origin=",auto" data-size="," data-rotate="" data-percentage="auto,auto" style="box-sizing: inherit; margin: 0px; padding: 0px; border: 0px; display: inline-block; vertical-align: middle; border-radius: 3px; cursor: pointer !important;"></a></figure></div></figure><p></p><p></p><p><span style="color: rgb(0, 0, 0)">Without a business transaction, AppDynamics does not track asynchronous activity.</span></p><p><span style="color: rgb(0, 0, 0)">AppDynamics does not differentiate between the two common patterns in asynchronous processing,&nbsp;Wait-for-Completion (in which the threads report back into the primary thread) and&nbsp;Fire-and-Forget (in which the primary thread may finish processing before spawned threads do). Both are&nbsp;represented the same way in the Controller UI, although they would usually be distinguished by their execution time, in which the primary thread for a&nbsp;<span style="color: rgb(0, 0, 0)">Wait-for-Completion transaction would exceed any of the child processes, whereas<span style="color: rgb(0, 0, 0)">Fire-and-Forget the primary thread may be shorter than child processes.&nbsp;</span></span></span></p><h3>Logical Asynchronous Exit Calls</h3><div class="se-component se-image-container __se__float- __se__float-none"><figure><a href="https://docs.appdynamics.com/appd/23.x/latest/en/application-monitoring/install-app-server-agents/java-agent/trace-multithreaded-transactions-for-java#id-.TraceMultithreadedTransactionsforJavav23.1-LogicalAsynchronousExitCalls" data-image-link="image"><img src="https://docs.appdynamics.com/appd/23.x/_/0A7000B801817F6BA9C71F687215B50A/1692995281587/images/common/link-solid.svg" alt="Link to Logical Asynchronous Exit Calls" data-image-link="https://docs.appdynamics.com/appd/23.x/latest/en/application-monitoring/install-app-server-agents/java-agent/trace-multithreaded-transactions-for-java#id-.TraceMultithreadedTransactionsforJavav23.1-LogicalAsynchronousExitCalls" data-proportion="true" data-align="none" data-file-name="link-solid.svg" data-file-size="0" data-origin=",auto" data-size="," data-rotate="" data-percentage="auto,auto" style="box-sizing: inherit; margin: 0px 0px 3px; padding: 0px; border: 0px; display: inline-block; vertical-align: middle;"></a></figure></div><p>An exception to the scenario described in the previous section exists for exit calls to backend systems which—from a conceptual point of view—are considered asynchronous&nbsp;in the AppDynamics model.</p><p>Message queue tiers such as JMS are considered logically asynchronous, so flow maps show connections to message queues as dotted lines (asynchronous connections) as well.&nbsp;Therefore, the following JMS exit call would be shown as an asynchronous call in a flow map, while the JDBC call would not be. &nbsp;</p><p></p><p></p><figure style="box-sizing: inherit; margin: 1rem 0px calc(2rem); color: rgb(0, 12, 52); font-family: roboto-regular, Helvetica, Roboto, Arial, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(254, 254, 254); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><div class="se-component se-image-container __se__float-none"><figure style="box-sizing: inherit; margin: 1rem 0px calc(2rem); color: rgb(0, 12, 52); font-family: roboto-regular, Helvetica, Roboto, Arial, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(254, 254, 254); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><a href="https://docs.appdynamics.com/appd/23.x/files/latest/en/244596755/244596759/1/1672686377000/logicalasync.png"></a><a href="https://docs.appdynamics.com/appd/23.x/files/latest/en/244596755/244596759/1/1672686377000/logicalasync.png" data-image-link="image"><img alt="Logical Asynchronous Exit Call" src="https://docs.appdynamics.com/appd/23.x/files/latest/en/244596755/244596759/1/1672686377000/logicalasync.png" data-image-link="https://docs.appdynamics.com/appd/23.x/files/latest/en/244596755/244596759/1/1672686377000/logicalasync.png" data-proportion="true" data-align="none" data-file-name="logicalasync.png" data-file-size="0" data-origin=",auto" data-size="," data-rotate="" data-percentage="auto,auto" style="box-sizing: inherit; margin: 0px; padding: 0px; border: 0px; display: inline-block; vertical-align: middle; border-radius: 3px; cursor: pointer !important;"></a></figure></div></figure><p></p><p></p><h3>Time on Tier</h3><div class="se-component se-image-container __se__float- __se__float-none"><figure><a href="https://docs.appdynamics.com/appd/23.x/latest/en/application-monitoring/install-app-server-agents/java-agent/trace-multithreaded-transactions-for-java#id-.TraceMultithreadedTransactionsforJavav23.1-TimeonTier" data-image-link="image"><img src="https://docs.appdynamics.com/appd/23.x/_/0A7000B801817F6BA9C71F687215B50A/1692995281587/images/common/link-solid.svg" alt="Link to Time on Tier" data-image-link="https://docs.appdynamics.com/appd/23.x/latest/en/application-monitoring/install-app-server-agents/java-agent/trace-multithreaded-transactions-for-java#id-.TraceMultithreadedTransactionsforJavav23.1-TimeonTier" data-proportion="true" data-align="none" data-file-name="link-solid.svg" data-file-size="0" data-origin=",auto" data-size="," data-rotate="" data-percentage="auto,auto" style="box-sizing: inherit; margin: 0px 0px 3px; padding: 0px; border: 0px; display: inline-block; vertical-align: middle;"></a></figure></div><p>Exit calls are one consideration in understanding multithreaded application performance; another consideration is the actual time spent processing a request.</p><p>For example, consider the following processing scenario. This occurs on a single tier. In fulfilling a request, the entry point thread spawns multiple child threads that report back to the primary thread to assemble the response. &nbsp;&nbsp;&nbsp;</p><p></p><p></p><figure style="box-sizing: inherit; margin: 1rem 0px calc(2rem); color: rgb(0, 12, 52); font-family: roboto-regular, Helvetica, Roboto, Arial, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(254, 254, 254); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><div class="se-component se-image-container __se__float-none"><figure style="box-sizing: inherit; margin: 1rem 0px calc(2rem); color: rgb(0, 12, 52); font-family: roboto-regular, Helvetica, Roboto, Arial, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(254, 254, 254); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><a href="https://docs.appdynamics.com/appd/23.x/files/latest/en/244596755/244596757/1/1672686377000/timeontier.png"></a><a href="https://docs.appdynamics.com/appd/23.x/files/latest/en/244596755/244596757/1/1672686377000/timeontier.png" data-image-link="image"><img alt="Multi-Threaded Application" src="https://docs.appdynamics.com/appd/23.x/files/latest/en/244596755/244596757/1/1672686377000/timeontier.png" data-image-link="https://docs.appdynamics.com/appd/23.x/files/latest/en/244596755/244596757/1/1672686377000/timeontier.png" data-proportion="true" data-align="none" data-file-name="timeontier.png" data-file-size="0" data-origin=",auto" data-size="," data-rotate="" data-percentage="auto,auto" style="box-sizing: inherit; margin: 0px; padding: 0px; border: 0px; display: inline-block; vertical-align: middle; border-radius: 3px; cursor: pointer !important;"></a></figure></div></figure><p></p><p></p><p>For the transaction, the response time metric represents the time from when the request arrived at the entry point to the point the response was sent. However, while this may accurately represent the user experience of the transaction, it does not reflect the processing burden on the system, since many threads participate in the transaction. A slow performing thread may or may not be evident based on the user experience of the transaction.</p><p>To better understand the complete cost of the transaction in terms of time spent processing, you can use the time on tier metric. This metric shows the aggregate processing time for each of the threads involved in processing a request. In other words, the total execution time of threads 2, 3 and 4 from the figure, along with the processing time between the entry point and response for thread 1.</p><p>The value of the time on tier metric is indicated by the async tag in business transaction dashboards.&nbsp;</p><h3>End-to-End Processing</h3><div class="se-component se-image-container __se__float- __se__float-none"><figure><a href="https://docs.appdynamics.com/appd/23.x/latest/en/application-monitoring/install-app-server-agents/java-agent/trace-multithreaded-transactions-for-java#id-.TraceMultithreadedTransactionsforJavav23.1-End-to-EndProcessing" data-image-link="image"><img src="https://docs.appdynamics.com/appd/23.x/_/0A7000B801817F6BA9C71F687215B50A/1692995281587/images/common/link-solid.svg" alt="Link to End-to-End Processing" data-image-link="https://docs.appdynamics.com/appd/23.x/latest/en/application-monitoring/install-app-server-agents/java-agent/trace-multithreaded-transactions-for-java#id-.TraceMultithreadedTransactionsforJavav23.1-End-to-EndProcessing" data-proportion="true" data-align="none" data-file-name="link-solid.svg" data-file-size="0" data-origin=",auto" data-size="," data-rotate="" data-percentage="auto,auto" style="box-sizing: inherit; margin: 0px 0px 3px; padding: 0px; border: 0px; display: inline-block; vertical-align: middle;"></a></figure></div><p>A response from an entry point thread may not best represent the logical end of a business transaction.</p><p>For example, consider an application in which an entry point method in a request handler spawns multiple threads, including&nbsp;one to serve as the final response handler. The request handler then returns a preliminary response to the client. By default, this stops the clock for purposes of measuring the response time for that business transaction.&nbsp;Meanwhile, the spawned&nbsp;threads continue to execute until completion, at which point the response handler generates the final response to the client.</p><p>In this case, the initial response time is much shorter than the full logical transaction execution time.</p><p></p><p></p><figure style="box-sizing: inherit; margin: 1rem 0px calc(2rem); color: rgb(0, 12, 52); font-family: roboto-regular, Helvetica, Roboto, Arial, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(254, 254, 254); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><div class="se-component se-image-container __se__float-none"><figure style="box-sizing: inherit; margin: 1rem 0px calc(2rem); color: rgb(0, 12, 52); font-family: roboto-regular, Helvetica, Roboto, Arial, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(254, 254, 254); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><a href="https://docs.appdynamics.com/appd/23.x/files/latest/en/244596755/244596756/1/1672686377000/endtoendthreads.png"></a><a href="https://docs.appdynamics.com/appd/23.x/files/latest/en/244596755/244596756/1/1672686377000/endtoendthreads.png" data-image-link="image"><img alt="End-to-End Thread Metrics" src="https://docs.appdynamics.com/appd/23.x/files/latest/en/244596755/244596756/1/1672686377000/endtoendthreads.png" data-image-link="https://docs.appdynamics.com/appd/23.x/files/latest/en/244596755/244596756/1/1672686377000/endtoendthreads.png" data-proportion="true" data-align="none" data-file-name="endtoendthreads.png" data-file-size="0" data-origin=",auto" data-size="," data-rotate="" data-percentage="auto,auto" style="box-sizing: inherit; margin: 0px; padding: 0px; border: 0px; display: inline-block; vertical-align: middle; border-radius: 3px; cursor: pointer !important;"></a></figure></div></figure><p></p><p></p><p>End-to-end metrics let you monitor logical transactions that use this programming pattern. End-to-end metrics&nbsp;include the&nbsp;end-to-end transaction time, the number of end-to-end transactions per minute, and the number of slow end-to-end message processing events.&nbsp;</p><p>To enable end-to-end metrics, you configure an Asynchronous Transaction as described in&nbsp;<a href="https://docs.appdynamics.com/appd/23.x/latest/en/application-monitoring/configure-instrumentation/asynchronous-transaction-demarcators" name="sp-plaintextbody-link">Asynchronous Transaction Demarcators</a>.</p><h2>View Threads and Thread Tasks in the Metric Browser</h2><div class="se-component se-image-container __se__float- __se__float-none"><figure><a href="https://docs.appdynamics.com/appd/23.x/latest/en/application-monitoring/install-app-server-agents/java-agent/trace-multithreaded-transactions-for-java#id-.TraceMultithreadedTransactionsforJavav23.1-ViewThreadsandThreadTasksintheMetricBrowser" data-image-link="image"><img src="https://docs.appdynamics.com/appd/23.x/_/0A7000B801817F6BA9C71F687215B50A/1692995281587/images/common/link-solid.svg" alt="Link to View Threads and Thread Tasks in the Metric Browser" data-image-link="https://docs.appdynamics.com/appd/23.x/latest/en/application-monitoring/install-app-server-agents/java-agent/trace-multithreaded-transactions-for-java#id-.TraceMultithreadedTransactionsforJavav23.1-ViewThreadsandThreadTasksintheMetricBrowser" data-proportion="true" data-align="none" data-file-name="link-solid.svg" data-file-size="0" data-origin=",auto" data-size="," data-rotate="" data-percentage="auto,auto" style="box-sizing: inherit; margin: 0px 0px 3px; padding: 0px; border: 0px; display: inline-block; vertical-align: middle;"></a></figure></div>